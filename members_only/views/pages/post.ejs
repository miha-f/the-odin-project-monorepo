<div class="flex flex-col items-center p-4">
    <h1 class="text-text text-3xl font-bold">
        <%= post.title %>
    </h1>
    <div class="max-w-lg">
        <div class="flex flex-row justify-between">
            <p class="text-text font-light text-sm p-2"> 
                <%= post.formattedDate %> 
            </p>
            <p class="text-text font-light text-sm p-2 underline"> 
                <% if(role !== 'user') { %>
                    <a href="/users/<%= post.user_id %>">
                        <%= post.username %>
                    </a>
                <% } %>
            </p>
        </div>
        <p class="text-text mt-2 whitespace-pre-line text-md font-normal"><%= post.text %></p>
        <div class="flex flex-row gap-2 py-2">
            <% if(role === 'admin' || (currentUser && post.user_id === currentUser.id)) { %>
                <form 
                    method="POST"
                    action="/posts/<%= post.id %>/remove"
                >
                    <button
                        type="submit"
                        class="text-white px-4 py-2 bg-primary rounded hover:underline"
                    >
                    Delete post
                    </button>
                </form>
            <% } %>
            <% if(currentUser && post.user_id === currentUser.id) { %>
                <a href="/posts/<%= post.id %>/update">
                    <button
                        type="submit"
                        class="text-white px-4 py-2 bg-primary rounded hover:underline"
                    >
                    Update post
                    </button>
                </a>
            <% } %>
        </div>
    </div>
</div>
