<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Members only</title>
    <link href="/css/output.css" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="bg-background container mx-auto max-w-7xl px-4">
    <header>
        <nav class="bg-surface p-4 
                flex flex-col justify-start
                xs:flex-row xs:justify-between xs:items-center
                ">
            <div>
                <a href="/" class="text-3xl text-text">#Members only</a>
            </div>

            <div>
            <% if(!currentUser) { %>
                <a href="/users/register" class="text-text underline mr-2">Register</a>
                <a href="/users/login" class="text-text underline">Login</a>
            <% } else { %>
                <a href="/posts/create" class="text-text underline mr-2">Create post</a>
                <a href="/users/<%= currentUser.id %>" class="text-text underline mr-2"><%= currentUser.email %></a>
                <form action="/users/logout" method="POST" class="inline">
                    <a href="#" 
                       onclick="this.closest('form').submit(); return false;" 
                       class="text-text underline">
                        Logout
                    </a>
                </form>
            <% } %>
            </div>
        </nav>
    </header>

    <main>
        <%- include(view) %>
    </main>
</body>

</html>
